"use strict";(self.webpackChunkmy_3_app=self.webpackChunkmy_3_app||[]).push([[449],{3449:function(e,s,a){a.r(s),a.d(s,{default:function(){return R}});var t=a(364),n=a(2291),i=a(8156),r=a(2791),c="Messages_messages__JsjlP",g="Messages_item__2RS8V",l="Messages_image__GGUuo",m="Messages_title__VeVPN",o="Messages_lastmessage__sVRHY",_=a(184),d=function(e){return(0,_.jsxs)("div",{i:e.i,className:g,onClick:function(s){var a=s.currentTarget.getAttribute("i");e.openMessage(a)},children:[(0,_.jsx)("img",{src:e.state.ava,className:l}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h4",{className:m,children:e.state.name}),(0,_.jsx)("p",{className:o,children:e.state.lastmessage})]})]})},u=(0,r.memo)(d),M=a(1413),p="Messagepage_page__FeNta",h="Messagepage_title__kQFaK",x="Messagepage_item__wEO30",j="Messagepage_image__AaOnh",N="Messagepage_name__rlIsr",f="Messagepage_message__6m42c",v="Messagepage_correspondence__U935U",b="Messagepage_writer__Ond6u",k="Messagepage_newmess__LLkUD",w="Messagepage_send__8KJu5",y="Messagepage_back__RQU9l",C="Messagepage_icon__aZOfT",G="Messagepage_backicon__71Sta",S="Messagepage_timeBlock__6xIeD",A=function(e){var s=new Date(e.date);return(0,_.jsxs)("div",{className:x,children:[(0,_.jsx)("img",{src:e.ava,className:j}),(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:N,children:[e.name,(0,_.jsxs)("span",{className:S,children:[s.toLocaleTimeString().slice(0,5)," ",s.toLocaleDateString()]})]}),(0,_.jsx)("p",{className:f,children:e.body})]})]})},I=(0,r.memo)(A),O=a(4483),U=a(3174),Z=a(3896),D=function(e){var s=(0,Z.cI)(),a=s.register,t=s.handleSubmit,n=s.reset;return(0,_.jsxs)("form",{className:b,onSubmit:t((function(s){e.sendMessage(s.message),n()})),children:[(0,_.jsx)("textarea",(0,M.Z)((0,M.Z)({},a("message",{required:!0})),{},{className:k,placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435..."})),(0,_.jsx)("button",{className:w,children:(0,_.jsx)(O.G,{icon:U.XCy,className:C})})]})},F=function(e){return(0,r.useEffect)((function(){return function(){e.closeMessage()}}),[]),(0,_.jsxs)("div",{className:p,children:[(0,_.jsx)("h3",{className:h,children:e.title}),(0,_.jsx)("div",{className:v,children:e.dialogs.map((function(s){var a,t;return"me"===s.identefication?(a=e.avatar,t=e.shortName):(a=e.avatar1,t=e.name),(0,_.jsx)(I,{ava:a,name:t,date:s.date,body:s.body},s.date)}))}),(0,_.jsx)(D,{sendMessage:e.sendMessage}),(0,_.jsxs)("button",{onClick:e.closeMessage,className:y,children:[(0,_.jsx)(O.G,{icon:U.EyR,className:G}),"\u041d\u0430\u0437\u0430\u0434"]})]})},L=function(e){var s=e.state.index;return(0,_.jsx)(_.Fragment,{children:e.state.isOpen?(0,_.jsx)(F,{newMessage:e.state.newMessage,dialogs:e.state.messages[s].dialogs,shortName:e.shortName,avatar:e.avatar,avatar1:e.state.messages[s].title.ava,name:e.state.messages[s].title.shortName,title:e.state.messages[s].title.name,newMessageInput:e.newMessageInput,sendMessage:e.sendMessage,closeMessage:e.closeMessage}):(0,_.jsx)("div",{className:c,children:e.state.messages.map((function(s,a){return(0,_.jsx)(u,{i:a,state:s.title,openMessage:e.openMessage},a)}))})})},R=(0,a(7781).qC)(n.Z,(0,t.$j)((function(e){return{avatar:e.data.avatar,shortName:e.data.shortName,state:e.data.messagesPage}}),{sendMessage:i.bG,closeMessage:i.YG,openMessage:i.x4}))(L)},2291:function(e,s,a){a(2791);var t=a(364),n=a(6871),i=a(184);s.Z=function(e){return(0,t.$j)((function(e){return{isAuth:e.auth.isAuthenticated}}))((function(s){return s.isAuth?(0,i.jsx)(e,{}):(0,i.jsx)(n.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=449.e1923d17.chunk.js.map