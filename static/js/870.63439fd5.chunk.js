"use strict";(self.webpackChunkmy_3_app=self.webpackChunkmy_3_app||[]).push([[870],{2870:function(t,s,e){e.r(s),e.d(s,{default:function(){return T}});var a=e(2791),n=e(364),u="Main_main__+w4kn",i=e(1413),o="Newpost_post__CPNWt",c="Newpost_input__Qu0wR",r=e(7276),d=e(3896),l=e(184);function _(t){var s=(0,d.cI)(),e=s.register,a=s.handleSubmit,n=s.reset;return(0,l.jsxs)("form",{onSubmit:a((function(s){t.addPost(s.post),n()})),className:o,children:[(0,l.jsx)("textarea",(0,i.Z)((0,i.Z)({},e("post",{required:!0})),{},{placeholder:"\u0427\u0442\u043e \u0443 \u0432\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",className:c})),(0,l.jsx)(r.Z,{text:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})}var p=(0,a.memo)(_),f={posts:"Posts_posts__5q8k2",head:"Posts_head__viDiz",ava:"Posts_ava__rN4Kf",title:"Posts_title__EjwSk",date:"Posts_date__yT7uL",icon:"Posts_icon__I9C6Z"},h=e(294),j=e(4483),m=e(3174),x=function(t){var s=new Date(t.post.date);return(0,l.jsxs)("div",{className:f.posts,children:[(0,l.jsxs)("div",{className:f.head,children:[(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:f.title,children:[(0,l.jsx)("img",{className:f.ava,src:t.post.ava,alt:"ava"}),(0,l.jsx)("h3",{children:t.post.profileName})]})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("span",{className:f.date,children:[s.toLocaleTimeString().slice(0,5)," ",s.toLocaleDateString()]}),(0,l.jsx)(j.G,{onClick:function(){return t.deletePost(t.post.date)},icon:m.$aW,className:f.icon})]})]}),(0,l.jsx)(h.Z,{}),(0,l.jsx)("div",{className:f.body,children:t.post.body})]})},v=(0,a.memo)(x),N=e(885),P="Status_status__Z4HTg",S="Status_edit__F16Vj",g="Status_text__KnLC9",Z=function(t){var s=(0,a.useState)(!1),e=(0,N.Z)(s,2),n=e[0],u=e[1],i=(0,a.useState)(t.status),o=(0,N.Z)(i,2),c=o[0],r=o[1];return(0,a.useEffect)((function(){r(t.status)}),[t.status]),(0,l.jsx)("div",{className:P,children:n?(0,l.jsx)("input",{className:S,autoFocus:!0,type:"text",onBlur:function(s){u(!1),t.putStatus(s.currentTarget.value)},value:c,onChange:function(t){return r(t.currentTarget.value)}}):(0,l.jsx)("div",{className:g,onDoubleClick:function(){u(!0)},children:t.status||"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0432\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441"})})},k=(0,a.memo)(Z),C=function(t){return(0,l.jsxs)("div",{className:u,children:[(0,l.jsx)(k,{status:t.status,putStatus:t.putStatus}),(0,l.jsx)(h.Z,{}),(0,l.jsx)(p,{addPost:t.addPost}),t.state.posts.map((function(s){return(0,l.jsx)(v,{post:s,deletePost:t.deletePost},s.date)}))]})},w=e(8156),b=e(2291),y=e(7781),F=e(6508),I=e(8465),T=(0,y.qC)(b.Z,(0,n.$j)((function(t){return{state:t.data.main,status:t.profile.status,id:t.auth.id,statusIsFetching:t.profile.statusIsFetching}}),{addPost:w.q2,deletePost:w.fR,getStatus:F.lR,putStatus:F.WN}))((function(t){return(0,a.useEffect)((function(){t.getStatus(t.id)}),[]),t.statusIsFetching?(0,l.jsx)(I.Z,{}):(0,l.jsx)(C,{status:t.status,state:t.state,putStatus:t.putStatus,addPost:t.addPost,deletePost:t.deletePost})}))},2291:function(t,s,e){e(2791);var a=e(364),n=e(6871),u=e(184);s.Z=function(t){return(0,a.$j)((function(t){return{isAuth:t.auth.isAuthenticated}}))((function(s){return s.isAuth?(0,u.jsx)(t,{}):(0,u.jsx)(n.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=870.63439fd5.chunk.js.map