{"version":3,"file":"static/js/449.e1923d17.chunk.js","mappings":"iMACA,EAA2B,2BAA3B,EAA6D,uBAA7D,EAA4F,wBAA5F,EAA4H,wBAA5H,EAAkK,8B,SCE5JA,EAAU,SAACC,GACf,OACE,iBACEC,EAAGD,EAAMC,EACTC,UAAWC,EACXC,QAAS,SAACC,GACR,IAAMC,EAAQD,EAAEE,cAAcC,aAAa,KAC3CR,EAAMS,YAAYH,IALtB,WAQE,gBAAKI,IAAKV,EAAMW,MAAMC,IAAKV,UAAWC,KACtC,4BACE,eAAID,UAAWC,EAAf,SAAyBH,EAAMW,MAAME,QACrC,cAAGX,UAAWC,EAAd,SAA8BH,EAAMW,MAAMG,qBAMlD,GAAeC,EAAAA,EAAAA,MAAKhB,G,UCrBpB,EAAuB,0BAAvB,EAAyD,2BAAzD,EAA2F,0BAA3F,EAA6H,2BAA7H,EAA+J,0BAA/J,EAAmM,6BAAnM,EAAiP,oCAAjP,EAA8R,4BAA9R,EAAoU,6BAApU,EAAwW,0BAAxW,EAAyY,0BAAzY,EAA0a,0BAA1a,EAA+c,8BAA/c,EAAyf,+BCEnfiB,EAAiB,SAAChB,GACtB,IAAMiB,EAAO,IAAIC,KAAKlB,EAAMiB,MAE5B,OACE,iBAAKf,UAAWC,EAAhB,WACE,gBAAKO,IAAKV,EAAMY,IAAKV,UAAWC,KAChC,4BACE,iBAAKD,UAAWC,EAAhB,UACGH,EAAMa,MACP,kBAAMX,UAAWC,EAAjB,UACGc,EAAKE,qBAAqBC,MAAM,EAAG,GADtC,IAC2CH,EAAKI,4BAGlD,cAAGnB,UAAWC,EAAd,SAA0BH,EAAMsB,cAMxC,GAAeP,EAAAA,EAAAA,MAAKC,G,8BCfdO,EAAc,SAACvB,GACnB,OAA0CwB,EAAAA,EAAAA,MAAlCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcC,EAAhC,EAAgCA,MAOhC,OACE,kBAAMzB,UAAWC,EAAUyB,SAAUF,GANtB,SAACG,GAChB7B,EAAM8B,YAAYD,EAAKE,SACvBJ,OAIA,WACE,uCACMF,EAAS,UAAW,CACtBO,UAAU,KAFd,IAIE9B,UAAWC,EACX8B,YAAY,iHAEd,mBAAQ/B,UAAWC,EAAnB,UACE,SAAC,IAAD,CAAiB+B,KAAMC,EAAAA,IAAcjC,UAAWC,UA6CxD,EAvCoB,SAACH,GAKnB,OAJAoC,EAAAA,EAAAA,YAAU,kBAAM,WACZpC,EAAMqC,kBACP,KAGD,iBAAKnC,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,SAAyBH,EAAMsC,SAC/B,gBAAKpC,UAAWC,EAAhB,SACGH,EAAMuC,QAAQC,KAAI,SAACC,GAClB,IAAI7B,EACAC,EAQJ,MAP4B,OAAxB4B,EAAKC,gBACP9B,EAAMZ,EAAM2C,OACZ9B,EAAOb,EAAM4C,YAEbhC,EAAMZ,EAAM6C,QACZhC,EAAOb,EAAMa,OAGb,SAAC,EAAD,CACED,IAAKA,EACLC,KAAMA,EAENI,KAAMwB,EAAKxB,KACXK,KAAMmB,EAAKnB,MAFNmB,EAAKxB,YAOlB,SAACM,EAAD,CAAaO,YAAa9B,EAAM8B,eAChC,oBAAQ1B,QAASJ,EAAMqC,aAAcnC,UAAWC,EAAhD,WACE,SAAC,IAAD,CAAiB+B,KAAMY,EAAAA,IAAa5C,UAAWC,IADjD,wCCpBN,EArCiB,SAACH,GAEhB,IAAMC,EAAID,EAAMW,MAAML,MAItB,OACE,8BACGN,EAAMW,MAAMoC,QACX,SAAC,EAAD,CACEC,WAAYhD,EAAMW,MAAMqC,WACxBT,QAASvC,EAAMW,MAAMsC,SAAShD,GAAGsC,QACjCK,UAAW5C,EAAM4C,UACjBD,OAAQ3C,EAAM2C,OACdE,QAAS7C,EAAMW,MAAMsC,SAAShD,GAAGqC,MAAM1B,IACvCC,KAAMb,EAAMW,MAAMsC,SAAShD,GAAGqC,MAAMM,UACpCN,MAAOtC,EAAMW,MAAMsC,SAAShD,GAAGqC,MAAMzB,KACrCqC,gBAAiBlD,EAAMkD,gBACvBpB,YAAa9B,EAAM8B,YACnBO,aAAcrC,EAAMqC,gBAGtB,gBAAKnC,UAAWC,EAAhB,SACGH,EAAMW,MAAMsC,SAAST,KAAI,SAACC,EAAMnC,GAAP,OACxB,SAAC,EAAD,CACEL,EAAGK,EAEHK,MAAO8B,EAAKH,MACZ7B,YAAaT,EAAMS,aAFdH,WCZnB,GAAe6C,E,QAAAA,IACbC,EAAAA,GACAC,EAAAA,EAAAA,KAXsB,SAAC1C,GAEvB,MAAO,CACLgC,OAAQhC,EAAMkB,KAAKc,OACnBC,UAAWjC,EAAMkB,KAAKe,UACtBjC,MAAOA,EAAMkB,KAAKyB,gBAMK,CACvBxB,YAAAA,EAAAA,GACAO,aAAAA,EAAAA,GACA5B,YAAAA,EAAAA,KALJ,CAOE8C,I,6DCVF,IAZyB,SAACC,GAOtB,OAAOH,EAAAA,EAAAA,KAAQ,SAAC1C,GAAD,MAAY,CAAC8C,OAAQ9C,EAAM+C,KAAKC,mBAAxCN,EALc,SAACrD,GAClB,OAAIA,EAAMyD,QACH,SAACD,EAAD,KADkB,SAAC,KAAD,CAAUI,GAAG","sources":["webpack://my_3_app/./src/components/Messages/Messages.module.css?8e7e","components/Messages/Message.jsx","webpack://my_3_app/./src/components/Messages/Messagepage.module.css?c378","components/Messages/Correspondence.jsx","components/Messages/MessagePage.jsx","components/Messages/Messages.jsx","components/Messages/DialogsContainer.jsx","hoc/withAuthNavigate.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"messages\":\"Messages_messages__JsjlP\",\"item\":\"Messages_item__2RS8V\",\"image\":\"Messages_image__GGUuo\",\"title\":\"Messages_title__VeVPN\",\"lastmessage\":\"Messages_lastmessage__sVRHY\"};","import React, { memo } from \"react\";\r\nimport s from \"./Messages.module.css\";\r\n\r\nconst Message = (props) => {\r\n  return (\r\n    <div\r\n      i={props.i}\r\n      className={s.item}\r\n      onClick={(e) => {\r\n        const index = e.currentTarget.getAttribute(\"i\");\r\n        props.openMessage(index);\r\n      }}\r\n    >\r\n      <img src={props.state.ava} className={s.image} />\r\n      <div>\r\n        <h4 className={s.title}>{props.state.name}</h4>\r\n        <p className={s.lastmessage}>{props.state.lastmessage}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(Message);\r\n","// extracted by mini-css-extract-plugin\nexport default {\"page\":\"Messagepage_page__FeNta\",\"title\":\"Messagepage_title__kQFaK\",\"item\":\"Messagepage_item__wEO30\",\"image\":\"Messagepage_image__AaOnh\",\"name\":\"Messagepage_name__rlIsr\",\"message\":\"Messagepage_message__6m42c\",\"correspondence\":\"Messagepage_correspondence__U935U\",\"writer\":\"Messagepage_writer__Ond6u\",\"newmess\":\"Messagepage_newmess__LLkUD\",\"send\":\"Messagepage_send__8KJu5\",\"back\":\"Messagepage_back__RQU9l\",\"icon\":\"Messagepage_icon__aZOfT\",\"backicon\":\"Messagepage_backicon__71Sta\",\"timeBlock\":\"Messagepage_timeBlock__6xIeD\"};","import React, { memo } from \"react\";\r\nimport s from \"./Messagepage.module.css\";\r\n\r\nconst Correspondence = (props) => {\r\n  const date = new Date(props.date);\r\n\r\n  return (\r\n    <div className={s.item}>\r\n      <img src={props.ava} className={s.image} />\r\n      <div>\r\n        <div className={s.name}>\r\n          {props.name}\r\n          <span className={s.timeBlock}>\r\n            {date.toLocaleTimeString().slice(0, 5)} {date.toLocaleDateString()}\r\n          </span>\r\n        </div>\r\n        <p className={s.message}>{props.body}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(Correspondence);\r\n","import React, { useEffect } from \"react\";\r\nimport Correspondence from \"./Correspondence\";\r\nimport s from \"./Messagepage.module.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPaperPlane, faAngleLeft } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst MessageForm = (props) => {\r\n  const { register, handleSubmit, reset } = useForm();\r\n\r\n  const onSubmit = (data) => {\r\n    props.sendMessage(data.message);\r\n    reset();\r\n  };\r\n\r\n  return (\r\n    <form className={s.writer} onSubmit={handleSubmit(onSubmit)}>\r\n      <textarea\r\n        {...register(\"message\", {\r\n          required: true,\r\n        })}\r\n        className={s.newmess}\r\n        placeholder=\"Напишите сообщение...\"\r\n      />\r\n      <button className={s.send}>\r\n        <FontAwesomeIcon icon={faPaperPlane} className={s.icon} />\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst Messagepage = (props) => {\r\n  useEffect(() => () => {\r\n      props.closeMessage();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={s.page}>\r\n      <h3 className={s.title}>{props.title}</h3>\r\n      <div className={s.correspondence}>\r\n        {props.dialogs.map((item) => {\r\n          let ava;\r\n          let name;\r\n          if (item.identefication === \"me\") {\r\n            ava = props.avatar;\r\n            name = props.shortName;\r\n          } else {\r\n            ava = props.avatar1;\r\n            name = props.name;\r\n          }\r\n          return (\r\n            <Correspondence\r\n              ava={ava}\r\n              name={name}\r\n              key={item.date}\r\n              date={item.date}\r\n              body={item.body}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n      <MessageForm sendMessage={props.sendMessage} />\r\n      <button onClick={props.closeMessage} className={s.back}>\r\n        <FontAwesomeIcon icon={faAngleLeft} className={s.backicon} />\r\n        Назад\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messagepage;\r\n","import React from \"react\";\r\nimport s from \"./Messages.module.css\";\r\nimport Message from \"./Message\";\r\nimport Messagepage from \"./MessagePage\";\r\n\r\nconst Messages = (props) => {\r\n\r\n  const i = props.state.index;\r\n\r\n  //console.log('dialog render');\r\n\r\n  return (\r\n    <>\r\n      {props.state.isOpen ? (\r\n        <Messagepage\r\n          newMessage={props.state.newMessage}\r\n          dialogs={props.state.messages[i].dialogs}\r\n          shortName={props.shortName}\r\n          avatar={props.avatar}\r\n          avatar1={props.state.messages[i].title.ava}\r\n          name={props.state.messages[i].title.shortName}\r\n          title={props.state.messages[i].title.name}\r\n          newMessageInput={props.newMessageInput}\r\n          sendMessage={props.sendMessage}\r\n          closeMessage={props.closeMessage}\r\n        />\r\n      ) : (\r\n        <div className={s.messages}>\r\n          {props.state.messages.map((item, index) => (\r\n            <Message\r\n              i={index}\r\n              key={index}\r\n              state={item.title}\r\n              openMessage={props.openMessage}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Messages;\r\n","import { connect } from \"react-redux\";\r\nimport withAuthNavigate from \"../../hoc/withAuthNavigate\";\r\nimport {\r\n  sendMessage,\r\n  closeMessage,\r\n  openMessage,\r\n} from \"../../redux/dataReducer\";\r\nimport Messages from \"./Messages\";\r\nimport { compose } from \"redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  //console.log(\"dialog mstp\");\r\n  return {\r\n    avatar: state.data.avatar,\r\n    shortName: state.data.shortName,\r\n    state: state.data.messagesPage,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  withAuthNavigate,\r\n  connect(mapStateToProps, {\r\n    sendMessage,\r\n    closeMessage,\r\n    openMessage,\r\n  })\r\n)(Messages)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Navigate } from \"react-router-dom\"\r\n\r\nconst withAuthNavigate = (Component) => {\r\n\r\n    const AuthNavigate = (props) => {\r\n        if(!props.isAuth) return <Navigate to='/login' />\r\n        return <Component />\r\n    }\r\n\r\n    return connect((state) => ({isAuth: state.auth.isAuthenticated}))(AuthNavigate);\r\n\r\n};\r\n\r\n\r\nexport default withAuthNavigate;"],"names":["Message","props","i","className","s","onClick","e","index","currentTarget","getAttribute","openMessage","src","state","ava","name","lastmessage","memo","Correspondence","date","Date","toLocaleTimeString","slice","toLocaleDateString","body","MessageForm","useForm","register","handleSubmit","reset","onSubmit","data","sendMessage","message","required","placeholder","icon","faPaperPlane","useEffect","closeMessage","title","dialogs","map","item","identefication","avatar","shortName","avatar1","faAngleLeft","isOpen","newMessage","messages","newMessageInput","compose","withAuthNavigate","connect","messagesPage","Messages","Component","isAuth","auth","isAuthenticated","to"],"sourceRoot":""}